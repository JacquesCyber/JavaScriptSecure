<div class="container-fluid">
  <div class="row mb-4">
    <div class="col">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a href="#" data-page="pending-payments">Pending Payments</a>
          </li>
          <li class="breadcrumb-item active" aria-current="page">Verify Payment</li>
        </ol>
      </nav>
      <h2 class="text-primary">
        <i class="bi bi-shield-check"></i> Payment Verification
      </h2>
      <p class="text-muted">Review and validate international payment details</p>
    </div>
  </div>

  <!-- Alert for status messages -->
  <div id="verify-payment-alert" class="alert alert-dismissible fade show d-none" role="alert">
    <span id="verify-payment-message"></span>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>

  <!-- Loading State -->
  <div id="payment-loading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading payment details...</span>
    </div>
    <p class="mt-2 text-muted">Loading payment information...</p>
  </div>

  <!-- Payment Details Container -->
  <div id="payment-details-container" class="d-none">
    
    <!-- Customer and Transaction Info -->
    <div class="row mb-4">
      <div class="col-md-6">
        <div class="card shadow">
          <div class="card-header bg-info text-white">
            <h5 class="mb-0">
              <i class="bi bi-person-circle"></i> Customer Information
            </h5>
          </div>
          <div class="card-body">
            <div class="mb-2">
              <strong>Customer Name:</strong>
              <span id="customer-name" class="float-end"></span>
            </div>
            <div class="mb-2">
              <strong>Account Number:</strong>
              <span id="customer-account" class="float-end"></span>
            </div>
            <div class="mb-2">
              <strong>Customer Email:</strong>
              <span id="customer-email" class="float-end"></span>
            </div>
            <div class="mb-2">
              <strong>Customer ID:</strong>
              <span id="customer-id" class="float-end"></span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="card shadow">
          <div class="card-header bg-primary text-white">
            <h5 class="mb-0">
              <i class="bi bi-receipt"></i> Transaction Details
            </h5>
          </div>
          <div class="card-body">
            <div class="mb-2">
              <strong>Transaction ID:</strong>
              <span id="transaction-id" class="float-end"></span>
            </div>
            <div class="mb-2">
              <strong>Payment Method:</strong>
              <span id="payment-method" class="float-end badge bg-secondary"></span>
            </div>
            <div class="mb-2">
              <strong>Submitted:</strong>
              <span id="submitted-date" class="float-end"></span>
            </div>
            <div class="mb-2">
              <strong>Status:</strong>
              <span id="payment-status" class="float-end badge"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Payment Amount and Details -->
    <div class="row mb-4">
      <div class="col-md-12">
        <div class="card shadow border-primary">
          <div class="card-header bg-primary text-white">
            <h5 class="mb-0">
              <i class="bi bi-cash-stack"></i> Payment Amount
            </h5>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-4">
                <div class="mb-2">
                  <strong>Amount:</strong>
                  <span id="payment-amount" class="float-end display-6 text-success"></span>
                </div>
              </div>
              <div class="col-md-4">
                <div class="mb-2">
                  <strong>Currency:</strong>
                  <span id="payment-currency" class="float-end fs-4"></span>
                </div>
              </div>
              <div class="col-md-4">
                <div class="mb-2">
                  <strong>Exchange Rate:</strong>
                  <span id="exchange-rate" class="float-end fs-5"></span>
                </div>
              </div>
            </div>
            <hr>
            <div class="mb-2">
              <strong>Description:</strong>
              <p id="payment-description" class="text-muted mt-2"></p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Verification Notes -->
    <div class="row mb-4">
      <div class="col-md-12">
        <div class="card shadow">
          <div class="card-header bg-secondary text-white">
            <h5 class="mb-0">
              <i class="bi bi-pencil-square"></i> Verification Notes
            </h5>
          </div>
          <div class="card-body">
            <form id="verification-form">
              <div class="mb-3">
                <label for="verification-notes" class="form-label">
                  Add notes about this verification (required):
                </label>
                <textarea 
                  class="form-control" 
                  id="verification-notes" 
                  rows="4" 
                  placeholder="Enter verification details, checks performed, and any concerns..."
                  required
                ></textarea>
                <div class="form-text">
                  Document all verification steps and findings for audit trail
                </div>
              </div>

              <!-- Decision Buttons -->
              <div class="row">
                <div class="col-md-6">
                  <button type="button" class="btn btn-success btn-lg w-100" id="approve-payment-btn">
                    <i class="bi bi-check-circle-fill"></i> Approve Payment
                  </button>
                </div>
                <div class="col-md-6">
                  <button type="button" class="btn btn-danger btn-lg w-100" id="reject-payment-btn">
                    <i class="bi bi-x-circle-fill"></i> Reject Payment
                  </button>
                </div>
              </div>

              <div class="row mt-3">
                <div class="col-md-12">
                  <button type="button" class="btn btn-secondary w-100" id="back-to-pending-btn">
                    <i class="bi bi-arrow-left"></i> Back to Pending Payments
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

  </div>

</div>

<!-- Reject Payment Modal -->
<div class="modal fade" id="rejectModal" tabindex="-1" aria-labelledby="rejectModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="rejectModalLabel">
          <i class="bi bi-x-circle"></i> Reject Payment
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="reject-form">
          <div class="mb-3">
            <label for="reject-reason" class="form-label">Reason for Rejection:</label>
            <select class="form-select" id="reject-reason" required>
              <option value="">-- Select Reason --</option>
              <option value="invalid_swift">Invalid SWIFT/BIC Code</option>
              <option value="invalid_iban">Invalid IBAN</option>
              <option value="high_fraud_risk">High Fraud Risk</option>
              <option value="aml_concern">AML Concern</option>
              <option value="incomplete_info">Incomplete Information</option>
              <option value="sanctions_match">Sanctions List Match</option>
              <option value="other">Other (specify below)</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="reject-details" class="form-label">Additional Details:</label>
            <textarea 
              class="form-control" 
              id="reject-details" 
              rows="3" 
              placeholder="Provide specific details about the rejection..."
              required
            ></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" id="confirm-reject-btn">
          <i class="bi bi-x-circle-fill"></i> Confirm Rejection
        </button>
      </div>
    </div>
  </div>
</div>
